/*
 * AguiaPlugin — Estilos de botões (consolidado)
 *
 * Descrição:
 *   Regras visuais e de interatividade para os botões de acessibilidade 
 *   (estado padrão, hover, ativo, foco e clique).
 *
 * @module styles/estilos_botoes.css
 * @license GNU GPL v3 or later
 */

/* Estilo base para todos os botões de acessibilidade (estado padrão) */
.aguia-option {
    background: white !important;
    color: #333 !important;
    border: 1px solid #eaeaea !important;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05) !important;
    cursor: pointer !important;
    transition: all 0.2s ease-in-out !important;
    position: relative !important;
    overflow: visible !important;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
}

/* Hover para todos os botões - sem alterar a posição dos ícones */
.aguia-option:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.1) !important;
    border-color: #2196f3 !important;
}

/* Estado ativo para todos os botões - azul no fundo, ícones permanecem pretos */
.aguia-option.active {
    background: linear-gradient(145deg, #2196f3, #0d47a1) !important;
    color: #000 !important;
    border: none !important;
    box-shadow: 0 4px 10px rgba(33, 150, 243, 0.4) !important;
}

/* Foco para acessibilidade por teclado */
.aguia-option:focus {
    outline: 2px solid #0072bc !important;
    box-shadow: 0 0 5px rgba(0, 114, 188, 0.7) !important;
}

/* Efeito de clique para feedback visual */
.button-clicked, 
.aguia-option:active {
    background-color: rgba(0, 0, 0, 0.1) !important;
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2) !important;
}

/* Garantir visibilidade em dispositivos de toque (WCAG) */
@media (hover: none) {
    .aguia-option {
        min-height: 44px !important;
        min-width: 44px !important;
    }
}

/* Alto contraste para acessibilidade */
@media (forced-colors: active) {
    .aguia-option.active {
        forced-color-adjust: none !important;
        background: Highlight !important;
        color: HighlightText !important;
    }
}

/* Ícones SVG em estado normal (preto) */
.aguia-option .icon svg {
    fill: #333 !important;
}

/* Ícones SVG em estado ativo continuam pretos */
.aguia-option.active .icon svg {
    fill: #000 !important;
    color: #000 !important;
    stroke: #000 !important;
    filter: none !important;
}

/* Texto em estado normal (preto) */
.aguia-option span.text {
    color: #333 !important;
    font-weight: 500 !important;
}

/* Texto em estado ativo mantém contraste adequado sem mudar ícone */
.aguia-option.active span.text {
    color: #fff !important;
}

/* Ícones emoji em estado normal */
.aguia-option .icon {
    color: #333 !important;
}

/* Estado visual do botão de leitura quando ativo */
.aguia-menu-read--active {
    filter: drop-shadow(0 4px 10px rgba(34,113,255,0.35));
    outline: none !important;
}

/* Destaque visual para a funcionalidade atualmente narrada */
.aguia-menu-item--highlighted {
    background-color: rgba(34,113,255,0.12) !important;
    border: 1px solid rgba(34,113,255,0.26) !important;
    border-radius: 8px !important;
    transition: background-color 180ms ease, box-shadow 200ms ease, border-color 180ms ease;
    box-shadow: 0 8px 22px rgba(34,113,255,0.10) !important;
    outline: 2px solid rgba(34,113,255,0.04) !important;
}

.aguia-menu-item--highlighted {
    /* Aumentado sutilmente para tornar o destaque mais perceptível durante a leitura */
    background-color: rgba(34,113,255,0.12) !important;
    border: 1px solid rgba(34,113,255,0.26) !important;
    border-radius: 8px !important;
    transition: background-color 180ms ease, box-shadow 200ms ease, border-color 180ms ease, transform 220ms ease;
    box-shadow: 0 8px 22px rgba(34,113,255,0.10) !important;
    /* pequeno contorno adicional para aumentar visibilidade sem deslocamento de layout */
    outline: 2px solid rgba(34,113,255,0.04) !important;
    transform-origin: center center;
    will-change: transform, box-shadow;
    /* Animação curta de crescimento para destacar suavemente o item */
    animation: aguia-highlight-grow 260ms cubic-bezier(.0,.7,.2,1) 1;
}

/* Keyframes para micro-animação de crescimento do destaque */
@keyframes aguia-highlight-grow {
    0% { transform: scale(0.995); }
    60% { transform: scale(1.02); }
    100% { transform: scale(1); }
}
/* Ícones emoji em estado ativo continuam pretos */
.aguia-option.active .icon {
    color: #000 !important;
    text-shadow: none !important;
}

/* Respeitar preferência de reduzir movimento do sistema (ou preferências do plugin) */
@media (prefers-reduced-motion: reduce) {
    .aguia-menu-item--highlighted,
    .aguia-menu-read--active {
        animation: none !important;
        transition: none !important;
        transform: none !important;
        will-change: auto !important;
    }
    .aguia-menu-item--highlighted {
        /* Versão estática, sem animação, com sombra mais discreta */
        box-shadow: 0 6px 12px rgba(34,113,255,0.06) !important;
        outline: none !important;
    }
}

/* Também respeitar a classe aplicada pelo plugin para reduzir animações */
.aguia-reduce-animations .aguia-menu-item--highlighted,
.aguia-reduce-animations .aguia-menu-read--active {
    animation: none !important;
    transition: none !important;
    transform: none !important;
    will-change: auto !important;
}
.aguia-reduce-animations .aguia-menu-item--highlighted {
    box-shadow: 0 6px 12px rgba(34,113,255,0.06) !important;
    outline: none !important;
}
