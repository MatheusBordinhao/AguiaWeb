/**
 * Filtros para daltonismo - Atende diretrizes WCAG 1.4.3
 *
 * Implementa filtros CSS para simular diferentes tipos de daltonismo:
 * - Protanopia: Incapacidade de perceber vermelho
 * - Deuteranopia: Incapacidade de perceber verde
 * - Tritanopia: Incapacidade de perceber azul
 *
 * @package    local_aguiaplugin
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */

/**
 * @module     local_aguiaplugin/daltonismo
 */

/* Protanopia - Dificuldade em perceber vermelho */
/* Não aplique filtro diretamente no body/html; aplique nos filhos para não afetar elementos fixed (menu) */
.aguia-colorblind-protanopia:not(body):not(html) {
    filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="protanopia"><feColorMatrix type="matrix" values="0.567 0.433 0 0 0 0.558 0.442 0 0 0 0 0.242 0.758 0 0 0 0 0 1 0"/></filter></svg>#protanopia') !important;
}
body.aguia-colorblind-protanopia,
html.aguia-colorblind-protanopia {
    filter: none !important;
}
body.aguia-colorblind-protanopia > *:not(#aguiaMenu):not(#aguiaButton),
html.aguia-colorblind-protanopia > body > *:not(#aguiaMenu):not(#aguiaButton) {
    filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="protanopia"><feColorMatrix type="matrix" values="0.567 0.433 0 0 0 0.558 0.442 0 0 0 0 0.242 0.758 0 0 0 0 0 1 0"/></filter></svg>#protanopia') !important;
}
/* Blindagem extra do menu e botão */
.aguia-colorblind-protanopia #aguiaMenu,
.aguia-colorblind-protanopia #aguiaButton {
    filter: none !important;
}

/* Deuteranopia - Dificuldade em perceber verde */
.aguia-colorblind-deuteranopia:not(body):not(html) {
    filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625 0.375 0 0 0 0.7 0.3 0 0 0 0 0.3 0.7 0 0 0 0 0 1 0"/></filter></svg>#deuteranopia') !important;
}
body.aguia-colorblind-deuteranopia,
html.aguia-colorblind-deuteranopia {
    filter: none !important;
}
body.aguia-colorblind-deuteranopia > *:not(#aguiaMenu):not(#aguiaButton),
html.aguia-colorblind-deuteranopia > body > *:not(#aguiaMenu):not(#aguiaButton) {
    filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625 0.375 0 0 0 0.7 0.3 0 0 0 0 0.3 0.7 0 0 0 0 0 1 0"/></filter></svg>#deuteranopia') !important;
}
.aguia-colorblind-deuteranopia #aguiaMenu,
.aguia-colorblind-deuteranopia #aguiaButton {
    filter: none !important;
}

/* Tritanopia - Dificuldade em perceber azul */
.aguia-colorblind-tritanopia:not(body):not(html) {
    filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95 0.05 0 0 0 0 0.433 0.567 0 0 0 0.475 0.525 0 0 0 0 0 1 0"/></filter></svg>#tritanopia') !important;
}
body.aguia-colorblind-tritanopia,
html.aguia-colorblind-tritanopia {
    filter: none !important;
}
body.aguia-colorblind-tritanopia > *:not(#aguiaMenu):not(#aguiaButton),
html.aguia-colorblind-tritanopia > body > *:not(#aguiaMenu):not(#aguiaButton) {
    filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95 0.05 0 0 0 0 0.433 0.567 0 0 0 0.475 0.525 0 0 0 0 0 1 0"/></filter></svg>#tritanopia') !important;
}
.aguia-colorblind-tritanopia #aguiaMenu,
.aguia-colorblind-tritanopia #aguiaButton {
    filter: none !important;
}